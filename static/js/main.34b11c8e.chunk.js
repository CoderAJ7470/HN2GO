(this["webpackJsonphn-stories"]=this["webpackJsonphn-stories"]||[]).push([[0],{1:function(e,t,n){e.exports={navWrapper:"header_navWrapper__L-ey7",instruction:"header_instruction__1Pk0i",buttons:"header_buttons__2Wqw8",inactive:"header_inactive__7vkoT",active:"header_active__oxZbY"}},19:function(e,t,n){e.exports=n(43)},24:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(18),o=n.n(c),i=(n(24),n(3)),u=n(4),s=n.n(u),l=n(5),m=n(6),d=n.n(m),p="https://hacker-news.firebaseio.com/v0",f="".concat(p,"/newstories.json"),v="".concat(p,"/topstories.json"),h="".concat(p,"/beststories.json"),g="".concat(p,"/item"),E="";function b(){if(E)return E}var w=function(){var e=Object(l.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("".concat(g,"/").concat(t,".json")).then((function(e){return e.data}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get(f).then((function(e){return e.data}));case 2:return t=e.sent,E=t.length,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get(v).then((function(e){return e.data}));case 2:return t=e.sent,E=t.length,console.log("I got called"),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get(h).then((function(e){return e.data}));case 2:return t=e.sent,E=t.length,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=n(1),k=n.n(_);function L(e){switch(e){case"new":document.getElementById("new").classList.add(k.a.active),document.getElementById("top").classList.remove(k.a.active),document.getElementById("popular").classList.remove(k.a.active);break;case"top":document.getElementById("top").classList.add(k.a.active),document.getElementById("new").classList.remove(k.a.active),document.getElementById("popular").classList.remove(k.a.active);break;case"popular":document.getElementById("popular").classList.add(k.a.active),document.getElementById("new").classList.remove(k.a.active),document.getElementById("top").classList.remove(k.a.active);break;default:document.getElementById("new").classList.add(k.a.active),document.getElementById("top").classList.remove(k.a.active),document.getElementById("popular").classList.remove(k.a.active)}}var I=n(7),B=n.n(I),N=Object(a.memo)((function(e){var t=e.id,n=Object(a.useState)(),c=Object(i.a)(n,2),o=c[0],u=c[1];return Object(a.useEffect)((function(){var e=!0;return w(t).then((function(t){return t&&t.url&&e&&u(t)})),function(){return e=!1}}),[t]),o&&o.url?r.a.createElement("div",{className:B.a.item},r.a.createElement("p",null,r.a.createElement("i",{className:"fa fa-hand-o-right ".concat(B.a.pointRight),"aria-hidden":"true"}),r.a.createElement("a",{href:o.url,target:"_blank",rel:"noopener noreferrer"},o.title)),r.a.createElement("p",null,"Submitted By: ",o.by),r.a.createElement("p",null,"Posted: ",function(e){var t=new Date(1e3*e),n=t.getFullYear(),a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()],r=t.getDate(),c=t.getHours(),o=t.getMinutes(),i="";return 12==c?i="p.m.":c>12?(c-=12,i="p.m."):i="a.m.",1===o.toString().length&&(o="0"+o)," ".concat(r," ").concat(a,", ").concat(n," at ").concat(c,":").concat(o," ").concat(i)}(o.time))):null})),x=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(20),o=Object(i.a)(c,2),u=o[0],s=o[1],l=function(){s(20)},m=function(){window.innerHeight+document.documentElement.scrollTop===document.documentElement.offsetHeight&&r(!0),r(!1)};return Object(a.useEffect)((function(){n&&(u+20>=b?s(b):u<500&&s(u+20))}),[u,n]),Object(a.useEffect)((function(){return window.addEventListener("scroll",function(e,t,n){var a;return function(){var r=this,c=arguments,o=function(){a=null,n||e.apply(r,c)},i=n&&!a;clearTimeout(a),a=setTimeout(o,t),i&&e.apply(r,c)}}(m,250)),document.getElementById("new").addEventListener("click",l),document.getElementById("top").addEventListener("click",l),document.getElementById("popular").addEventListener("click",l),function(){return window.removeEventListener("scroll",m)}}),[]),u},S=n(8),C=n.n(S),F=function(e){var t=e.itemIDs,n=e.type;console.log("you called me?");var a=x();return r.a.createElement(r.a.Fragment,null,0!==t.length?r.a.createElement(r.a.Fragment,null,t.slice(0,a+1).map((function(e){return r.a.createElement(N,{key:e,id:e})})),r.a.createElement("div",{className:C.a.viewCount},"Showing ",a," of ",b()," ",n," items")):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:C.a.viewCount},"Loading ",n," items...")))},D=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(!1),u=Object(i.a)(o,2),s=u[0],l=u[1],m=Object(a.useState)(!1),d=Object(i.a)(m,2),p=d[0],f=d[1],v=Object(a.useState)(!1),h=Object(i.a)(v,2),g=h[0],E=h[1],b=Object(a.useState)("New"),w=Object(i.a)(b,2),_=w[0],I=w[1];return Object(a.useEffect)((function(){s?(y().then((function(e){c(e)})),I("New"),L("new")):p?(j().then((function(e){c(e)})),I("Trending"),L("top")):g?(O().then((function(e){c(e)})),I("Popular"),L("popular")):(y().then((function(e){c(e)})),L("new"))}),[s,p,g]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:k.a.navWrapper},r.a.createElement("p",{className:k.a.instruction},"Search/scroll through stories below. Refresh the page to pull in the latest articles."),r.a.createElement("div",{className:k.a.buttons},r.a.createElement("button",{className:k.a.inactive,id:"new",onClick:function(){l(!0),f(!1),E(!1)}},"Latest"),r.a.createElement("button",{className:k.a.inactive,id:"top",onClick:function(){f(!0),l(!1),E(!1)}},"Trending"),r.a.createElement("button",{className:k.a.inactive,id:"popular",onClick:function(){E(!0),l(!1),f(!1)}},"Most Popular"))),r.a.createElement(F,{itemIDs:n,type:_}))},T=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(D,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},7:function(e,t,n){e.exports={pointRight:"item_pointRight__2FPdv",item:"item_item__2jcg9"}},8:function(e,t,n){e.exports={viewCount:"items_viewCount__y5Dzy"}}},[[19,1,2]]]);
//# sourceMappingURL=main.34b11c8e.chunk.js.map